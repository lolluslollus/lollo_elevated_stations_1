local height = 0

local zedShift4groundRoof = -height + 3.00
local groundRoofTransf = {.4, 0, 0, 0, 0, .8, 0, 0, 0, 0, .05, 0, 0, 1, zedShift4groundRoof, 1}

-- local zedShift4GroundFloor = -height - .79
-- local groundFloorPavingTransf = {1.024, 0, 0, 0, 0, 1.30, 0, 0, 0, 0, 1, 0, 0, 1.25, zedShift4GroundFloor, 1}

local lampLeftTransf = {1, 1, 0, 0, 1, -1, 0, 0, 0, 0, 1, 0, -9, -4.5, 0, 1}
local lampRightTransf = {-1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 9, -4.5, 0, 1}

local poleTransf = {1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1.1, 0, 0, -4.1, 0, 1}
local clockTransf = {1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -4.1, 4.55, 1}
local idTransf = {1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1}
local stationMainTransf = {.6, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1}

function data()
    return {
        boundingInfo = {
            bbMax = {5.8, 1.0, 5.0},
            bbMin = {-5.8, -4.0, -height}
        },
        -- LOLLO NOTE the collider here seems to have no effect.
        -- We already get it in elevated_stairs.module, so never mind
        collider = {
            params = {
                halfExtents = {5.8, 2.5, 2.5}
            },
            transf = idTransf,
            type = 'BOX'
        },
        lods = {
            {
                node = {
                    children = {
                        -- {
                        --     children = {
                        --         -- ground level
                        --         {
                        --             -- entrance roof
                        --             materials = {
                        --                 'station/rail/era_c/era_c_trainstation_borders_1.mtl',
                        --                 'station/rail/era_c/era_c_trainstation_roof_wood.mtl',
                        --                 'station/rail/era_c/era_c_trainstation_roof_white.mtl',
                        --                 'station/rail/era_c/era_c_trainstation_modeling_tmp.mtl'
                        --             },
                        --             mesh = 'station/rail/era_c/station_3_roof_perron_side/station_3_roof_perron_side_lod0.msh',
                        --             name = 'station_3_roof_perron_side',
                        --             transf = groundRoofTransf
                        --         },
                        --     },
                        --     name = 'station_square_1_main_grp',
                        --     transf = stationMainTransf
                        -- },
                        -- LOLLO TODO add some lamps at y = -3.5 or so, maybe chairs, maybe a rubbish bin
                        -- {
                        --     children = {
                        --         children = {
                        --             materials = {'station/rail/era_c/era_c_trainstation_assets.mtl'},
                        --             mesh = 'station/rail/asset/era_c_station_name/era_c_station_name_lod0.msh',
                        --             name = 'era_c_station_name',
                        --             transf = idTransf
                        --         }
                        --     },
                        --     name = 'era_c_station_name_grp',
                        --     transf = {2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.89, 3.3, 1}
                        -- }
                    },
                    name = 'RootNode',
                    transf = idTransf
                },
                static = false,
                visibleFrom = 0,
                visibleTo = 100
            },
            {
                node = {
                    children = {
                        {
                            children = { },
                            name = 'station_square_1_main_grp',
                            transf = stationMainTransf
                        },
                    },
                    name = 'RootNode',
                    transf = idTransf
                },
                static = false,
                visibleFrom = 100,
                visibleTo = 3500
            },
        },
        metadata = {
            -- labelList = {
            --     labels = {
            --         {
            --             alignment = 'CENTER',
            --             alphaMode = 'BLEND',
            --             childId = 'RootNode',
            --             fitting = 'SCALE',
            --             nLines = 1,
            --             size = {5.2, 0.6},
            --             transf = {1, 0, 0, 0, 0, 0, 1, 0, 0, -1, 0, 0, -2.6, 0.65, 3.63, 1},
            --             type = 'STATION_NAME',
            --             verticalAlignment = 'CENTER'
            --         }
            --     }
            -- },
            transportNetworkProvider = {
                laneLists = {
                    {
                        -- into the station
                        linkable = true,
                        nodes = {
                            {
                                {0, 1, 0},
                                {0, -1, 0},
                                2.4000000953674
                            },
                            {
                                {0, 0, 0},
                                {0, -1, 0},
                                2.4000000953674
                            }
                        },
                        speedLimit = 20,
                        transportModes = {'PERSON'}
                    },
                    -- LOLLO NOTE the following are a lil longer than the ordinary station square's
                    -- so multiple modules connect together. linkable inside a construction does not work.
                    {
                        -- into the street left
                        linkable = true,
                        nodes = {
                            {
                                {0, 0, 0},
                                {-1, -1, 0},
                                2.4000000953674
                            },
                            {
                                {-4.29, -4.29, 0},
                                {-1, -1, 0},
                                2.4000000953674
                            }
                        },
                        speedLimit = 20,
                        transportModes = {'PERSON'}
                    },
                    {
                        -- into the street right
                        linkable = true,
                        nodes = {
                            {
                                {0, 0, 0},
                                {1, -1, 0},
                                2.4000000953674
                            },
                            {
                                {4.29, -4.29, 0},
                                {1, -1, 0},
                                2.4000000953674
                            }
                        },
                        speedLimit = 20,
                        transportModes = {'PERSON'}
                    },
                    {
                        -- into the next sibling left, criss-crossing to avoid duplicating edges
                        linkable = true,
                        nodes = {
                            {
                                {-4.29, -4.29, 0},
                                {-1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {-5, -4.2, 0},
                                {-1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {-5, -4.2, 0},
                                {-1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {-6, -4.29, 0},
                                {-1, 0, 0},
                                2.4000000953674
                            }
                        },
                        speedLimit = 20,
                        transportModes = {'PERSON'}
                    },
                    {
                        -- into the next sibling right, criss-crossing to avoid duplicating edges
                        linkable = true,
                        nodes = {
                            {
                                {4.29, -4.29, 0},
                                {1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {5, -4.2, 0},
                                {1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {5, -4.2, 0},
                                {1, 0, 0},
                                2.4000000953674
                            },
                            {
                                {6, -4.29, 0},
                                {1, 0, 0},
                                2.4000000953674
                            }
                        },
                        speedLimit = 20,
                        transportModes = {'PERSON'}
                    }
                },
                runways = {},
                terminals = {}
            }
        },
        version = 1
    }
end
